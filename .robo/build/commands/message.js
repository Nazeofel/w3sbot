import { Flashcore } from "robo.js";
import { ActionRowBuilder, ModalBuilder, TextInputBuilder, TextInputStyle } from "discord.js";
export const config = {
    description: 'Send a message to a channel',
    options: [
        {
            name: 'message_channel',
            description: 'Channel to send a message to',
            type: 'channel',
            required: true
        }
    ]
};
export const messageModal = async ()=>{
    const modal = new ModalBuilder().setCustomId('custom_message').setTitle('Send a message to a channel');
    const content = new TextInputBuilder().setCustomId('message').setLabel("Message content").setStyle(TextInputStyle.Paragraph).setRequired(true).setPlaceholder('Your message content here! It supports discord markdown!').setMinLength(1).setMaxLength(4000);
    const firstActionRow = new ActionRowBuilder().addComponents(content);
    modal.addComponents(firstActionRow);
    return {
        modal: modal
    };
};
export default (async (interaction)=>{
    const channel = interaction.options.getChannel('message_channel');
    if (channel && channel.isTextBased()) {
        await Flashcore.set('message_channel_id', channel.id);
        const modal = await messageModal();
        await interaction.showModal(modal.modal);
    } else {
        return {
            content: `Invalid channel provided`,
            ephemeral: true
        };
    }
    try {} catch (error) {
        console.log(error);
    }
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcY2Vsc2lcXERvY3VtZW50c1xcUHJvZ3JhbW1pbmdcXFdvcmtcXHRlc3RzXFx3M3Nib3RcXHNyY1xcY29tbWFuZHNcXG1lc3NhZ2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmxhc2hjb3JlLCB0eXBlIENvbW1hbmRDb25maWcgfSBmcm9tICdyb2JvLmpzJztcclxuaW1wb3J0IHsgQWN0aW9uUm93QnVpbGRlciwgQ2hhdElucHV0Q29tbWFuZEludGVyYWN0aW9uLCBHdWlsZENoYW5uZWwsIE1vZGFsQnVpbGRlciwgVGV4dElucHV0QnVpbGRlciwgVGV4dElucHV0U3R5bGUgfSBmcm9tICdkaXNjb3JkLmpzJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWc6IENvbW1hbmRDb25maWcgPSB7XHJcbiAgZGVzY3JpcHRpb246ICdTZW5kIGEgbWVzc2FnZSB0byBhIGNoYW5uZWwnLFxyXG4gIG9wdGlvbnM6IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogJ21lc3NhZ2VfY2hhbm5lbCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnQ2hhbm5lbCB0byBzZW5kIGEgbWVzc2FnZSB0bycsXHJcbiAgICAgIHR5cGU6ICdjaGFubmVsJyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbWVzc2FnZU1vZGFsID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IG1vZGFsID0gbmV3IE1vZGFsQnVpbGRlcigpXHJcbiAgLnNldEN1c3RvbUlkKCdjdXN0b21fbWVzc2FnZScpXHJcbiAgLnNldFRpdGxlKCdTZW5kIGEgbWVzc2FnZSB0byBhIGNoYW5uZWwnKTtcclxuXHJcbiAgY29uc3QgY29udGVudCA9IG5ldyBUZXh0SW5wdXRCdWlsZGVyKClcclxuICAgIC5zZXRDdXN0b21JZCgnbWVzc2FnZScpXHJcbiAgICAuc2V0TGFiZWwoXCJNZXNzYWdlIGNvbnRlbnRcIilcclxuICAgIC5zZXRTdHlsZShUZXh0SW5wdXRTdHlsZS5QYXJhZ3JhcGgpXHJcbiAgICAuc2V0UmVxdWlyZWQodHJ1ZSlcclxuICAgIC5zZXRQbGFjZWhvbGRlcignWW91ciBtZXNzYWdlIGNvbnRlbnQgaGVyZSEgSXQgc3VwcG9ydHMgZGlzY29yZCBtYXJrZG93biEnKVxyXG4gICAgLnNldE1pbkxlbmd0aCgxKVxyXG4gICAgLnNldE1heExlbmd0aCg0MDAwKTtcclxuXHJcbiAgY29uc3QgZmlyc3RBY3Rpb25Sb3cgPSBuZXcgQWN0aW9uUm93QnVpbGRlcigpLmFkZENvbXBvbmVudHMoY29udGVudCk7XHJcblxyXG4gIG1vZGFsLmFkZENvbXBvbmVudHMoZmlyc3RBY3Rpb25Sb3cgYXMgYW55KTtcclxuICByZXR1cm4ge1xyXG4gICAgbW9kYWw6IG1vZGFsLFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGludGVyYWN0aW9uOiBDaGF0SW5wdXRDb21tYW5kSW50ZXJhY3Rpb24pID0+IHtcclxuICBjb25zdCBjaGFubmVsID0gaW50ZXJhY3Rpb24ub3B0aW9ucy5nZXRDaGFubmVsKCdtZXNzYWdlX2NoYW5uZWwnKSBhcyBHdWlsZENoYW5uZWw7XHJcbiAgaWYgKGNoYW5uZWwgJiYgY2hhbm5lbC5pc1RleHRCYXNlZCgpKSB7XHJcbiAgICBhd2FpdCBGbGFzaGNvcmUuc2V0KCdtZXNzYWdlX2NoYW5uZWxfaWQnLCBjaGFubmVsLmlkKTtcclxuICAgIGNvbnN0IG1vZGFsID0gYXdhaXQgbWVzc2FnZU1vZGFsKCk7XHJcbiAgICBhd2FpdCBpbnRlcmFjdGlvbi5zaG93TW9kYWwobW9kYWwubW9kYWwpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4ge2NvbnRlbnQ6IGBJbnZhbGlkIGNoYW5uZWwgcHJvdmlkZWRgLCBlcGhlbWVyYWw6IHRydWV9O1xyXG4gIH1cclxuICB0cnkge1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiRmxhc2hjb3JlIiwiQWN0aW9uUm93QnVpbGRlciIsIk1vZGFsQnVpbGRlciIsIlRleHRJbnB1dEJ1aWxkZXIiLCJUZXh0SW5wdXRTdHlsZSIsImNvbmZpZyIsImRlc2NyaXB0aW9uIiwib3B0aW9ucyIsIm5hbWUiLCJ0eXBlIiwicmVxdWlyZWQiLCJtZXNzYWdlTW9kYWwiLCJtb2RhbCIsInNldEN1c3RvbUlkIiwic2V0VGl0bGUiLCJjb250ZW50Iiwic2V0TGFiZWwiLCJzZXRTdHlsZSIsIlBhcmFncmFwaCIsInNldFJlcXVpcmVkIiwic2V0UGxhY2Vob2xkZXIiLCJzZXRNaW5MZW5ndGgiLCJzZXRNYXhMZW5ndGgiLCJmaXJzdEFjdGlvblJvdyIsImFkZENvbXBvbmVudHMiLCJpbnRlcmFjdGlvbiIsImNoYW5uZWwiLCJnZXRDaGFubmVsIiwiaXNUZXh0QmFzZWQiLCJzZXQiLCJpZCIsInNob3dNb2RhbCIsImVwaGVtZXJhbCIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsU0FBUyxRQUE0QixVQUFVO0FBQ3hELFNBQVNDLGdCQUFnQixFQUE2Q0MsWUFBWSxFQUFFQyxnQkFBZ0IsRUFBRUMsY0FBYyxRQUFRLGFBQWE7QUFFekksT0FBTyxNQUFNQyxTQUF3QjtJQUNuQ0MsYUFBYTtJQUNiQyxTQUFTO1FBQ1A7WUFDRUMsTUFBTTtZQUNORixhQUFhO1lBQ2JHLE1BQU07WUFDTkMsVUFBVTtRQUNaO0tBQ0Q7QUFDSCxFQUFDO0FBRUQsT0FBTyxNQUFNQyxlQUFlO0lBQzFCLE1BQU1DLFFBQVEsSUFBSVYsZUFDakJXLFdBQVcsQ0FBQyxrQkFDWkMsUUFBUSxDQUFDO0lBRVYsTUFBTUMsVUFBVSxJQUFJWixtQkFDakJVLFdBQVcsQ0FBQyxXQUNaRyxRQUFRLENBQUMsbUJBQ1RDLFFBQVEsQ0FBQ2IsZUFBZWMsU0FBUyxFQUNqQ0MsV0FBVyxDQUFDLE1BQ1pDLGNBQWMsQ0FBQyw0REFDZkMsWUFBWSxDQUFDLEdBQ2JDLFlBQVksQ0FBQztJQUVoQixNQUFNQyxpQkFBaUIsSUFBSXRCLG1CQUFtQnVCLGFBQWEsQ0FBQ1Q7SUFFNURILE1BQU1ZLGFBQWEsQ0FBQ0Q7SUFDcEIsT0FBTztRQUNMWCxPQUFPQTtJQUNUO0FBQ0YsRUFBQztBQUVELGVBQWUsQ0FBQSxPQUFPYTtJQUNwQixNQUFNQyxVQUFVRCxZQUFZbEIsT0FBTyxDQUFDb0IsVUFBVSxDQUFDO0lBQy9DLElBQUlELFdBQVdBLFFBQVFFLFdBQVcsSUFBSTtRQUNwQyxNQUFNNUIsVUFBVTZCLEdBQUcsQ0FBQyxzQkFBc0JILFFBQVFJLEVBQUU7UUFDcEQsTUFBTWxCLFFBQVEsTUFBTUQ7UUFDcEIsTUFBTWMsWUFBWU0sU0FBUyxDQUFDbkIsTUFBTUEsS0FBSztJQUN6QyxPQUFPO1FBQ0wsT0FBTztZQUFDRyxTQUFTLENBQUMsd0JBQXdCLENBQUM7WUFBRWlCLFdBQVc7UUFBSTtJQUM5RDtJQUNBLElBQUksQ0FDSixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUMsR0FBRyxDQUFDRjtJQUNkO0FBQ0YsQ0FBQSxFQUFDIn0=